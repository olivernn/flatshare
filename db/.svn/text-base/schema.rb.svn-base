# This file is autogenerated. Instead of editing this file, please use the
# migrations feature of ActiveRecord to incrementally modify your database, and
# then regenerate this schema definition.

ActiveRecord::Schema.define(:version => 57) do

  create_table "adverts", :force => true do |t|
    t.column "user_id",         :integer,                                                     :null => false
    t.column "created_at",      :datetime
    t.column "type",            :string,                                                      :null => false
    t.column "rent",            :decimal,  :precision => 8,  :scale => 2,                     :null => false
    t.column "interests",       :string
    t.column "description",     :text,                                                        :null => false
    t.column "date_available",  :date,                                                        :null => false
    t.column "area",            :string,                                                      :null => false
    t.column "headline",        :string,                                                      :null => false
    t.column "views_counter",   :integer
    t.column "room_type",       :string
    t.column "furnished",       :boolean,                                                     :null => false
    t.column "smoking",         :boolean,                                                     :null => false
    t.column "couples",         :boolean
    t.column "bills",           :decimal,  :precision => 8,  :scale => 2
    t.column "deposit",         :decimal,  :precision => 8,  :scale => 2
    t.column "postcode",        :string
    t.column "lat",             :decimal,  :precision => 15, :scale => 10
    t.column "lng",             :decimal,  :precision => 15, :scale => 10
    t.column "housemates",      :integer
    t.column "rent_frequency",  :string
    t.column "bills_frequency", :string
    t.column "quarantine",      :boolean,                                  :default => false
  end

  add_index "adverts", ["user_id"], :name => "index_adverts_on_user_id"
  add_index "adverts", ["area"], :name => "index_adverts_on_area"
  add_index "adverts", ["rent"], :name => "index_adverts_on_rent"
  add_index "adverts", ["type"], :name => "index_adverts_on_type"

  create_table "adverts_rich_attributes", :id => false, :force => true do |t|
    t.column "advert_id",         :integer, :null => false
    t.column "rich_attribute_id", :integer, :null => false
  end

  create_table "favorites", :force => true do |t|
    t.column "user_id",        :integer
    t.column "favorable_type", :string,   :limit => 30
    t.column "favorable_id",   :integer
    t.column "created_at",     :datetime
    t.column "updated_at",     :datetime
  end

  create_table "flags", :force => true do |t|
    t.column "user_id",      :integer,                     :null => false
    t.column "advert_id",    :integer,                     :null => false
    t.column "created_at",   :datetime,                    :null => false
    t.column "flag_type",    :string,                      :null => false
    t.column "flag_comment", :text
    t.column "handled",      :boolean,  :default => false
  end

  create_table "flatseekers", :force => true do |t|
    t.column "max_rent",          :decimal, :precision => 8, :scale => 2
    t.column "age",               :integer
    t.column "interests",         :string
    t.column "date_available",    :date,                                  :null => false
    t.column "description",       :string,                                :null => false
    t.column "looking_as_couple", :boolean
    t.column "desired_location",  :string,                                :null => false
    t.column "rent_frequency",    :string,                                :null => false
    t.column "created_on",        :date
    t.column "user_id",           :integer,                               :null => false
    t.column "room_type",         :string,                                :null => false
    t.column "headline",          :string,                                :null => false
    t.column "furnished",         :boolean,                               :null => false
    t.column "views_counter",     :integer
  end

  create_table "flatseekers_rich_attributes", :force => true do |t|
    t.column "flatseeker_id",     :integer, :null => false
    t.column "rich_attribute_id", :integer, :null => false
  end

  create_table "flatshares", :force => true do |t|
    t.column "rent",                 :decimal, :precision => 8,  :scale => 2
    t.column "bills",                :decimal, :precision => 8,  :scale => 2
    t.column "postcode",             :string,                                  :null => false
    t.column "housemates",           :integer,                                 :null => false
    t.column "interests",            :text
    t.column "description",          :text,                                    :null => false
    t.column "date_available",       :date,                                    :null => false
    t.column "available_to_couples", :boolean
    t.column "lat",                  :decimal, :precision => 15, :scale => 10
    t.column "lng",                  :decimal, :precision => 15, :scale => 10
    t.column "area",                 :string,                                  :null => false
    t.column "rent_frequency",       :string,                                  :null => false
    t.column "bills_frequency",      :string,                                  :null => false
    t.column "created_on",           :date
    t.column "user_id",              :integer,                                 :null => false
    t.column "room_type",            :string,                                  :null => false
    t.column "furnished",            :boolean,                                 :null => false
    t.column "deposit",              :decimal, :precision => 8,  :scale => 2
    t.column "smoking",              :boolean,                                 :null => false
    t.column "headline",             :string,                                  :null => false
    t.column "views_counter",        :integer
  end

  create_table "flatshares_rich_attributes", :force => true do |t|
    t.column "flatshare_id",      :integer
    t.column "rich_attribute_id", :integer, :null => false
  end

  create_table "help_texts", :force => true do |t|
    t.column "name",      :string, :null => false
    t.column "help_text", :string, :null => false
  end

  add_index "help_texts", ["name"], :name => "index_help_texts_on_name"

  create_table "images", :force => true do |t|
    t.column "advert_id",    :integer
    t.column "parent_id",    :integer
    t.column "filename",     :string
    t.column "thumbnail",    :string
    t.column "size",         :integer
    t.column "width",        :integer
    t.column "height",       :integer
    t.column "content_type", :string
  end

  create_table "lookups", :force => true do |t|
    t.column "name",  :string
    t.column "value", :string, :null => false
  end

  add_index "lookups", ["name"], :name => "index_lookups_on_name"

  create_table "messages", :force => true do |t|
    t.column "user_id",    :integer,                     :null => false
    t.column "message",    :text,                        :null => false
    t.column "created_at", :datetime,                    :null => false
    t.column "read",       :boolean,  :default => false, :null => false
    t.column "subject",    :string
    t.column "from_id",    :integer,                     :null => false
  end

  add_index "messages", ["user_id"], :name => "index_messages_on_user_id"
  add_index "messages", ["created_at"], :name => "index_messages_on_created_at"

  create_table "pages", :force => true do |t|
    t.column "name",        :string,                     :null => false
    t.column "permalink",   :string
    t.column "content",     :text,                       :null => false
    t.column "help_page",   :boolean
    t.column "footer_page", :boolean, :default => false
  end

  create_table "pictures", :force => true do |t|
    t.column "comment",      :string
    t.column "name",         :string
    t.column "content_type", :string
    t.column "data",         :binary
    t.column "advert_id",    :integer
  end

  add_index "pictures", ["advert_id"], :name => "index_pictures_on_advert_id"

  create_table "places", :force => true do |t|
    t.column "user_id",     :integer,                                 :null => false
    t.column "created_on",  :date
    t.column "name",        :string,                                  :null => false
    t.column "description", :string
    t.column "category",    :string,                                  :null => false
    t.column "postcode",    :string,                                  :null => false
    t.column "lat",         :decimal, :precision => 15, :scale => 10
    t.column "lng",         :decimal, :precision => 15, :scale => 10
  end

  create_table "promotions", :force => true do |t|
    t.column "code",           :string,  :null => false
    t.column "number_of_uses", :integer
    t.column "start_date",     :date,    :null => false
    t.column "end_date",       :date,    :null => false
    t.column "name",           :string,  :null => false
  end

  create_table "quarantines", :force => true do |t|
    t.column "advert_id",  :integer,  :null => false
    t.column "advert",     :text,     :null => false
    t.column "created_at", :datetime, :null => false
  end

  create_table "rich_attributes", :force => true do |t|
    t.column "name", :string, :null => false
  end

  create_table "sessions", :force => true do |t|
    t.column "session_id", :string
    t.column "data",       :text
    t.column "updated_at", :datetime
  end

  add_index "sessions", ["session_id"], :name => "index_sessions_on_session_id"
  add_index "sessions", ["updated_at"], :name => "index_sessions_on_updated_at"

  create_table "stations", :force => true do |t|
    t.column "name",     :string,                                  :null => false
    t.column "postcode", :string,                                  :null => false
    t.column "lat",      :decimal, :precision => 15, :scale => 10
    t.column "lng",      :decimal, :precision => 15, :scale => 10
  end

  add_index "stations", ["name"], :name => "index_stations_on_name"

  create_table "users", :force => true do |t|
    t.column "first_name",      :string,                 :null => false
    t.column "second_name",     :string,                 :null => false
    t.column "email",           :string,                 :null => false
    t.column "contact_number",  :string,                 :null => false
    t.column "hashed_password", :string,                 :null => false
    t.column "salt",            :string,                 :null => false
    t.column "authority",       :integer, :default => 0
  end

  add_index "users", ["email"], :name => "index_users_on_email"

end
